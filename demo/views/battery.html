<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <link rel="stylesheet" href="http://cdn.bootcss.com/animate.css/3.5.1/animate.min.css" type="text/css">
    <link rel="stylesheet" href="http://xs01.meituan.net/wmcdn/islider/2.2.0/iSlider.css" type="text/css">
    <title>《邪不压正》首映礼</title>
    <link href="//p0.meituan.net" rel="dns-prefetch">
    <link href="//p1.meituan.net" rel="dns-prefetch">
    <link href="//xs01.meituan.net" rel="dns-prefetch">
    <link href="//cdn.bootcss.com" rel="dns-prefetch">
    <link href="//vfile.meituan.net" rel="dns-prefetch">
    <link href="//res.wx.qq.com" rel="dns-prefetch">
    <style>
        html,
        body,
        #app,
        .box {
            height: 100%;
        }
        
        body {
            margin: 0;
            background-color: #000;
        }
        
        .bg1 {
            font-size: 4em;
            color: #FFF;
            background-color: #FFF;
            text-align: center;
            width: 100%;
            height: 100%;
            background: url('http://p0.meituan.net/travelcube/8d8af2366901d55c623fa5940e80c31771299.png') no-repeat;
            background-size: 100%;
        }
        
        .bg2 {
            font-size: 4em;
            color: #FFF;
            text-align: center;
            width: 100%;
            height: 120%;
            background: url('http://p1.meituan.net/travelcube/fa88f5c600ac9d4822e63950e966fa21331255.png') repeat-y;
            background-size: 100%;
        }
        
        .bg3 {
            color: #FFF;
            text-align: center;
            width: 100%;
            height: 120%;
            background: url('http://p1.meituan.net/travelcube/fa88f5c600ac9d4822e63950e966fa21331255.png') repeat-y;
            background-size: 100%;
        }
        
        .bg4 {
            color: #FFF;
            text-align: center;
            width: 100%;
            height: 120%;
            background: url("http://p0.meituan.net/travelcube/b0883dab68f2454b8c9d269477535c49222038.png") no-repeat;
            background-size: 100%;
        }
        
        .bg5 {
            color: #FFF;
            text-align: center;
            width: 100%;
            height: 100%;
            background: url("http://p0.meituan.net/travelcube/2b46d1aedd7a50e6da90b3d1e5ea64041942082.gif") no-repeat;
            background-size: cover;
        }
        
        .media-wrap {
            width: 50px;
            height: 50px;
            position: fixed;
            z-index: 10;
            right: 5%;
            top: 30px;
            background: #FFF;
            -webkit-animation: reverseRotataZ 1.2s linear infinite;
            animation: reverseRotataZ 1.2s linear infinite;
        }
        
        .arrow {
            position: fixed;
            width: 20px;
            height: 20px;
            /* background: #FFF; */
            border-bottom: 3px solid #fff;
            border-left: 3px solid #fff;
            z-index: 10;
            right: 15px;
            bottom: 50%;
            transform: translateY(-50%) rotate(-135deg);
            -webkit-transform: translateY(-50%) rotate(-135deg);
            animation: flash 2s linear infinite;
            -webkit-animation: flash 2s linear infinite;
        }
        
        .smoke {
            background-image: url('http://p0.meituan.net/travelcube/85cebd3d2f915bece06aa16d94d5f23a132720.png');
            background-repeat: repeat-x;
            height: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-size: 100% 100%;
            animation: smoke 3.5s linear infinite alternate;
            -webkit-animation: smoke 3.5s linear infinite alternate;
        }
        
        .title,
        .director,
        .porm,
        .gubei,
        .title3,
        .tips,
        .map,
        .guide,
        .moon,
        .moon1,
        .title5,
        .tips5,
        .redt,
        .wine,
        .smog {
            opacity: 0;
        }
        
        .title {
            background: url("http://p1.meituan.net/travelcube/f4f13d3b8028fa8e018efc945600a86b129312.png") no-repeat;
            width: 272px;
            height: 190px;
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            background-size: 100%;
            animation: opacityTrans 2s linear 1s 1 normal;
            animation-fill-mode: forwards;
            -webkit-animation: opacityTrans 2s linear 1s 1 normal;
            -webkit-animation-fill-mode: forwards;
        }
        
        .director {
            background: url("http://p1.meituan.net/travelcube/2d0dc098b95c800d65b5bc6d688864e6368548.png") no-repeat;
            width: 270px;
            height: 530px;
            position: absolute;
            top: 8%;
            left: 19%;
            background-size: 100%;
            animation: opacityTrans 2s linear 3s 1 normal;
            animation-fill-mode: forwards;
            -webkit-animation: opacityTrans 2s linear 3s 1 normal;
            -webkit-animation-fill-mode: forwards;
        }
        /* animate */
        
        .animate {
            animation: opacityTrans 1s linear .5s 1 normal;
            animation-fill-mode: forwards;
            -webkit-animation: opacityTrans 1s linear .5s 1 normal;
            -webkit-animation-fill-mode: forwards;
        }
        
        .animate1 {
            animation: opacityTrans 1s linear 2s 1 normal;
            animation-fill-mode: forwards;
            -webkit-animation: opacityTrans 1s linear 2.5s 1 normal;
            -webkit-animation-fill-mode: forwards;
        }
        
        .animate2 {
            animation: opacityTrans 1s linear 4s 1 normal;
            animation-fill-mode: forwards;
            -webkit-animation: opacityTrans 1s linear 4s 1 normal;
            -webkit-animation-fill-mode: forwards;
        }
        
        .smoganimate {
            animation: flash 2s linear 4s infinite normal;
            animation-fill-mode: forwards;
            -webkit-animation: flash 2s linear 4s infinite normal;
            -webkit-animation-fill-mode: forwards;
        }
        
        .animate3 {
            animation: opacityTrans 1s linear 5s 1 normal;
            animation-fill-mode: forwards;
            -webkit-animation: opacityTrans 1s linear 5s 1 normal;
            -webkit-animation-fill-mode: forwards;
        }
        
        .porm {
            background: url("http://p1.meituan.net/travelcube/aa0f447d020f023b5863ebd98ece200038843.png") no-repeat;
            height: 300px;
            width: 400px;
            position: absolute;
            top: 3%;
            left: 50%;
            transform: translateX(-50%);
            background-size: 100%;
        }
        /* place */
        
        @keyframes placeTrans {
            0% {
                background-image: url("http://p0.meituan.net/travelcube/faa62e557002dc4b4fc1ba4b85bf9d131190944.png");
            }
            2% {
                background-image: transparent;
            }
            28% {
                background-image: transparent;
            }
            30% {
                background-image: url("http://p0.meituan.net/travelcube/d5599df42e41d99ff17df63e3f39c0d61187186.png");
            }
            32% {
                background-image: transparent;
            }
            58% {
                background-image: transparent;
            }
            60% {
                background-image: url("http://p0.meituan.net/travelcube/2b7df411d3a294da17e0b4a024540828225177.png");
            }
            62% {
                background-image: transparent;
            }
            98% {
                background-image: transparent;
            }
            100% {
                background-image: url("http://p0.meituan.net/travelcube/d7e823aa2b38ce1d84d93cdbf010beaf232981.png");
            }
        }
        
        @-webkit-keyframes placeTrans {
            0% {
                background-image: url("http://p0.meituan.net/travelcube/faa62e557002dc4b4fc1ba4b85bf9d131190944.png");
            }
            2% {
                background-image: transparent;
            }
            28% {
                background-image: transparent;
            }
            30% {
                background-image: url("http://p0.meituan.net/travelcube/d5599df42e41d99ff17df63e3f39c0d61187186.png");
            }
            32% {
                background-image: transparent;
            }
            58% {
                background-image: transparent;
            }
            60% {
                background-image: url("http://p0.meituan.net/travelcube/2b7df411d3a294da17e0b4a024540828225177.png");
            }
            62% {
                background-image: transparent;
            }
            98% {
                background-image: transparent;
            }
            100% {
                background-image: url("http://p0.meituan.net/travelcube/d7e823aa2b38ce1d84d93cdbf010beaf232981.png");
            }
        }
        
        .placeanimate {
            /* opacity: 1; */
            animation: placeTrans 20s linear 2s infinite alternate;
            /* animation-fill-mode: forwards; */
            -webkit-animation: placeTrans 20s linear 2s infinite alternate;
            /* -webkit-animation-fill-mode: forwards; */
        }
        
        .place {
            background-repeat: no-repeat;
            background-image: transparent;
            /* background-image: url("http://p0.meituan.net/travelcube/17b2fef4422bed64d8df0a886843bb35587569.png"); */
            width: 100%;
            height: 100%;
            position: absolute;
            top: 80px;
            left: 0;
            background-size: 100%;
            z-index: 10;
        }
        
        .redt {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 100px;
            left: 0;
            background-size: 100%;
            z-index: 12;
            background-image: url("http://p0.meituan.net/travelcube/d5599df42e41d99ff17df63e3f39c0d61187186.png");
        }
        
        .wine {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 100px;
            left: 0;
            background-size: 100%;
            z-index: 14;
            background-image: url("http://p0.meituan.net/travelcube/17b2fef4422bed64d8df0a886843bb35587569.png");
        }
        /* page 3*/
        
        .gubei {
            background: url("http://p0.meituan.net/travelcube/07b3a8b87c79122535a854197738b3e61024722.png") no-repeat;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 80px;
            left: 0;
            background-size: 100%;
            z-index: 10;
        }
        
        .title3 {
            background: url("http://p1.meituan.net/travelcube/843f5bcc34516e1ebba1011958f7933a54490.png") no-repeat;
            width: 272px;
            height: 190px;
            position: absolute;
            top: 2%;
            left: 50%;
            transform: translateX(-50%);
            background-size: 100%;
        }
        
        .tips {
            background: url("http://p1.meituan.net/travelcube/feec53a836ba3cc801ea8caf309cb61496699.png") no-repeat;
            background-size: 100%;
            width: 350px;
            height: 400px;
            position: absolute;
            top: 25%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        /* page 4*/
        
        .map {
            background: url("http://p1.meituan.net/travelcube/8431941a232cd30156d72f93b8d241121034657.png") no-repeat;
            background-size: 100%;
            width: 350px;
            height: 570px;
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .guide {
            background: url("http://p0.meituan.net/travelcube/8e2ab1498cfe9d6c60b37c31c90d5ec569314.png") no-repeat;
            background-size: 100%;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 25px;
            left: 0;
        }
        /* page 5*/
        
        .moon {
            background: url('http://p0.meituan.net/travelcube/ca2057d326b589f9cb81f0ef8b93a9d7948858.png') no-repeat;
            background-size: 100%;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .moon1 {
            background: url("http://p0.meituan.net/travelcube/9f9ef0879aba5b20b57395ae702d7a0f200408.png") no-repeat;
            background-size: 100%;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .title5 {
            background: url("http://p0.meituan.net/travelcube/3a8df0977de9d626c1ad05ab4c72eb36187358.png") no-repeat;
            width: 272px;
            height: 190px;
            position: absolute;
            top: 2%;
            left: 50%;
            transform: translateX(-50%);
            background-size: 100%;
        }
        
        .tips5 {
            background: url('http://p1.meituan.net/travelcube/734958605caa26f042935fadb5d9ff5914486.png') no-repeat;
            background-size: 100%;
            width: 200px;
            height: 70px;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            -webkit-transform: translateX(-50%);
        }
        
        .smog {
            background: url("http://p1.meituan.net/travelcube/f5dc219549802374bd7a0ec7962c6df7456794.png") no-repeat;
            background-size: 100%;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 20;
            /* -webkit-animation: flash 2s linear infinite;
            animation: flash 2s linear infinite; */
        }
        
        @keyframes reverseRotataZ {
            from {
                transform: rotateZ(-360deg);
            }
            to {
                transform: rotateZ(0deg);
            }
        }
        
        @-webkit-keyframes reverseRotataZ {
            from {
                -webkit-transform: rotateZ(-360deg);
            }
            to {
                -webkit-transform: rotateZ(0deg);
            }
        }
        
        @keyframes smoke {
            0% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(9%);
            }
            50% {
                transform: translateX(0);
            }
            75% {
                transform: translateX(-9%);
            }
            100% {
                transform: translateX(0);
            }
        }
        
        @-webkit-keyframes smoke {
            0% {
                -webkit-transform: translateX(0);
            }
            25% {
                -webkit-transform: translateX(9%);
            }
            50% {
                -webkit-transform: translateX(0);
            }
            75% {
                -webkit-transform: translateX(-9%);
            }
            100% {
                -webkit-transform: translateX(0);
            }
        }
        
        @keyframes opacityTrans {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @-webkit-keyframes opacityTrans {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes smogTrans {
            0%,
            50%,
            to {
                opacity: 1
            }
            25%,
            75% {
                opacity: 0
            }
        }
        
        @-webkit-keyframes smogTrans {
            0%,
            50%,
            to {
                opacity: 1
            }
            25%,
            75% {
                opacity: 0
            }
        }
    </style>
</head>

<body>
    <!-- <img src="http://p0.meituan.net/travelcube/faa62e557002dc4b4fc1ba4b85bf9d131190944.png" style="display: none;">
    <img src="http://p0.meituan.net/travelcube/d5599df42e41d99ff17df63e3f39c0d61187186.png" style="display: none;">
    <img src="http://p0.meituan.net/travelcube/2b7df411d3a294da17e0b4a024540828225177.png" style="display: none;">
    <img src="http://p0.meituan.net/travelcube/d7e823aa2b38ce1d84d93cdbf010beaf232981.png" style="display: none;">
    <img src="http://p1.meituan.net/travelcube/fa88f5c600ac9d4822e63950e966fa21331255.png" style="display: none;">
    <img src="http://p1.meituan.net/travelcube/1980a1a7ae251beec9216750447cf3cd491839.png" style="display: none;"> -->

    <div id="app">
    </div>
    <div class="arrow"></div>
    <!-- <iframe loop="loop" id="autoplay" src="http://vfile.meituan.net/travelcube/d731940c-d4e4-4641-aadf-a1b6f93b306f.wav" allow="autoplay"></iframe> -->
    <audio src="http://vfile.meituan.net/travelcube/c6bf7dc6-37f9-4d8f-acfa-dc75099bb43a.mp3" autoplay="autoplay" preload loop="loop" allow="autoplay" id="autoplay"></audio>
</body>
<!-- 基础依赖js start -->
<script type="text/javascript" src="http://xs01.meituan.net/wmcdn/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript" src="http://xs01.meituan.net/wmcdn/islider/2.2.0/iSlider.js"></script>
<script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<!-- 基础依赖js end -->

<script>
    /* 判断一下是不是iPhone X改变高度底部贴合*/
    var iphoneX = (function isIphoneX() {
        return /iphone/gi.test(navigator.userAgent) && (screen.height == 812 && screen.width == 375)
    })();

    // demo 官网：http://eux.baidu.com/iSlider/demo/index_chinese.html
    var list = [ // HTML String
        {
            /* page1 */
            content: (function() {
                var dom = document.createElement('div');
                dom.innerHTML = '<div class="title">' +
                    '</div><div class="director"></div><div class="smoke"></div>';
                dom.className = 'bg1';
                return dom;
            })()
        }, {
            /* page2 */
            content: (function() {
                var dom = document.createElement('div');
                dom.innerHTML = '<div class="porm"></div><div class="place"></div>';
                dom.className = 'bg2';
                dom.style.cssText = 'font-size:13px;color:rgb(230, 230, 63);';
                return dom;
            })()
        }, {
            /* page3 */
            content: (function() {
                var dom = document.createElement('div');
                dom.innerHTML = '<div class="gubei"></div><div class="title3"></div><div class="tips"></div>';
                dom.className = 'bg3';
                return dom;
            })()
        }, {
            /* page4 */
            content: (function() {
                var dom = document.createElement('div');
                dom.innerHTML = '<div class="map"></div><div class="guide"></div>';
                dom.className = 'bg4';
                return dom;
            })()
        }, {
            /* page5 */
            content: (function() {
                var dom = document.createElement('div');
                dom.innerHTML = '<div class="moon"></div><div class="moon1"></div><div class="smog"></div><div class="title5"></div><div class="tips5"></div>';
                dom.className = 'bg5';
                return dom;
            })()
        }
    ];

    var S = new iSlider(document.getElementById('app'), list, {
        isLooping: 0,
        isOverspread: 1,
        isAutoplay: 0,
        animateTime: 600,
        animateType: 'rotate'
    });

    S.on('slideChanged', function(index, dom) {
        console.log(index);
        console.log(dom);
        console.log($(dom));
        if (index == 1) {
            $(dom).find(".porm").addClass("animate");
            if (iphoneX) {
                $(dom).find(".place").addClass("placeanimate");
            } else {
                $(dom).find(".place").css('top', '0').addClass("placeanimate");
            }
        } else if (index == 2) {
            if (iphoneX) {
                $(dom).find(".gubei").addClass("animate");
            } else {
                $(dom).find(".gubei").css('top', '0').addClass("animate");
            }
            $(dom).find(".title3").addClass("animate1");
            $(dom).find(".tips").addClass("animate2");
        } else if (index == 3) {
            $(dom).find(".map").addClass("animate");
            $(dom).find(".guide").addClass("animate1");
        } else if (index == 4) {} else {

        }

    });
    //一般情况下，这样就可以自动播放了，但是一些奇葩iPhone机不可以 
    var audio = document.getElementById("autoplay");
    audio.play();
    //微信必须加入Weixin JSAPI的WeixinJSBridgeReady才能生效 
    document.addEventListener("WeixinJSBridgeReady", function() {
        audio.play();
    }, false);
</script>

</html>